{% load static %}
<!doctype html>
<html lang="kk">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>–ñ–æ–ª–¥—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä | Gamified</title>

<link rel="stylesheet" href="{% static 'css/style.css' %}">


    <!-- Prism.js CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Prism.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

</head>
<body class="light-premium">



<header class="topbar">
    <div class="topbar-inner container">
        <div class="brand">
            <div class="brand-icon">Py</div>
            <div class="brand-text">
                <div class="brand-title">Python –ø—Ä–æ–≥—Ä–∞–º–º–∞–ª–∞—É —Ç—ñ–ª—ñ</div>
                <div class="brand-subtitle">10-—Å—ã–Ω—ã–ø ¬∑ –ñ–æ–ª–¥—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä</div>
            </div>
        </div>
        <nav class="topnav">
            <a href="#theory">–¢–µ–æ—Ä–∏—è</a>
            <a href="#examples">–ú—ã—Å–∞–ª–¥–∞—Ä</a>
            <a href="#games">–û–π—ã–Ω–¥–∞—Ä</a>
        </nav>
        <div class="xp-panel">
            <span class="xp-label">“∞–ø–∞–π</span>
            <span class="xp-value" id="xp-value">0</span>
        </div>
    </div>
</header>

<main class="page container">

    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
    <section class="card progress-card">
        <div class="progress-header">
            <div>
                <h1 class="page-title">–ñ–æ–ª–¥—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä</h1>
                <p class="page-subtitle">–¢–µ–æ—Ä–∏—è ‚Üí –ú—ã—Å–∞–ª–¥–∞—Ä ‚Üí –û–π—ã–Ω–¥–∞—Ä. –ë–∞—Ä–ª—ã“õ –±–ª–æ–∫—Ç—ã –±—ñ—Ç—ñ—Ä—Å–µ“£ ‚Äì 100%.</p>
            </div>
            <div class="level-badge">
                –î–µ“£–≥–µ–π <span id="level-value">1</span>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-bar-fill" id="progress-fill"></div>
        </div>
        <div class="progress-meta">
            <span id="progress-text">0% –∞—è“õ—Ç–∞–ª–¥—ã</span>
            <span class="progress-hint">”ò—Ä –±–ª–æ–∫—Ç—ã –±—ñ—Ç—ñ—Ä–≥–µ–Ω–¥–µ ¬´–î–∞–π—ã–Ω¬ª –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å.</span>
        </div>
    </section>




        <!-- –ù–µ–≥—ñ–∑–≥—ñ –∫–æ–ª–æ–Ω–∫–∞ -->
        <div class="main-column">

            <!-- 1. –¢–ï–û–†–ò–Ø -->
            <section id="theory" class="card section">
                <div class="section-header">
                    <div>
                        <h2>1-–±”©–ª—ñ–º ¬∑ –¢–µ–æ—Ä–∏—è</h2>
                        <p class="section-subtitle">
                            –û“õ—É –º–∞“õ—Å–∞—Ç—ã: –∂–æ–ª–¥–∞—Ä–¥—ã ”©“£–¥–µ—É “Ø—à—ñ–Ω Python –∂–æ–ª–¥—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä—ñ–Ω (–º–µ—Ç–æ–¥—Ç–∞—Ä—ã–Ω) “õ–æ–ª–¥–∞–Ω—É.
                        </p>
                    </div>
                    <button class="btn-pill btn-done" data-block="theory" data-xp="30">
                        ‚¨ú –û—Ä—ã–Ω–¥–∞–ª–¥—ã (–¢–µ–æ—Ä–∏—è)
                    </button>
                </div>

                <div class="callout info">
                    üí° Python-–¥–∞ –∂–æ–ª–¥–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω ”ô–¥—ñ—Å—Ç–µ—Ä ”©—Ç–µ –∫”©–ø, –±—ñ–∑ –±“Ø–≥—ñ–Ω–≥—ñ —Å–∞–±–∞“õ—Ç–∞ –µ“£ –∂–∏—ñ “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω–¥–∞—Ä—ã–Ω “Ø–π—Ä–µ–Ω–µ–º—ñ–∑.
                </div>

<h3 class="section-label">–ñ–∏—ñ “õ–æ–ª–¥–∞–Ω—ã–ª–∞—Ç—ã–Ω ”ô–¥—ñ—Å—Ç–µ—Ä</h3>

<div class="methods-premium-grid">

    <!-- upper() -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">upper()</span>
            <span class="mp-tag">–†–µ–≥–∏—Å—Ç—Ä</span>
        </div>

        <pre class="mp-code">text = "Salem"
print(text.upper())</pre>

        <div class="mp-output">SALEM</div>
    </div>

    <!-- lower() -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">lower()</span>
            <span class="mp-tag">–†–µ–≥–∏—Å—Ç—Ä</span>
        </div>

        <pre class="mp-code">text = "PyThOn"
print(text.lower())</pre>

        <div class="mp-output">python</div>
    </div>

    <!-- islower/isupper -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">islower() / isupper()</span>
            <span class="mp-tag">–¢–µ–∫—Å–µ—Ä—É</span>
        </div>

        <pre class="mp-code">print("python".islower())
print("PY".isupper())</pre>

        <div class="mp-output">True<br>True</div>
    </div>

    <!-- strip -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">strip()</span>
            <span class="mp-tag">–¢–∞–∑–∞–ª–∞—É</span>
        </div>

        <pre class="mp-code">name = "  Aigerim  "
print(name.strip())</pre>

        <div class="mp-output">Aigerim</div>
    </div>

    <!-- split -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">split()</span>
            <span class="mp-tag">–ë”©–ª—É</span>
        </div>

        <pre class="mp-code">s = "–ú–µ–Ω Python “Ø–π—Ä–µ–Ω–µ–º—ñ–Ω"
print(s.split())</pre>

        <div class="mp-output">['–ú–µ–Ω', 'Python', '“Ø–π—Ä–µ–Ω–µ–º—ñ–Ω']</div>
    </div>

    <!-- join -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">" ".join()</span>
            <span class="mp-tag">–ë—ñ—Ä—ñ–∫—Ç—ñ—Ä—É</span>
        </div>

        <pre class="mp-code">words = ["–ú–µ–Ω", "Python", "“Ø–π—Ä–µ–Ω–µ–º—ñ–Ω"]
print(" ".join(words))</pre>

        <div class="mp-output">–ú–µ–Ω Python “Ø–π—Ä–µ–Ω–µ–º—ñ–Ω</div>
    </div>

    <!-- replace -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">replace()</span>
            <span class="mp-tag">–ê—É—ã—Å—Ç—ã—Ä—É</span>
        </div>

        <pre class="mp-code">text = "I like Python"
print(text.replace("Python", "C++"))</pre>

        <div class="mp-output">I like C++</div>
    </div>

    <!-- find/index -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">find() / index()</span>
            <span class="mp-tag">–Ü–∑–¥–µ—É</span>
        </div>

        <pre class="mp-code">s = "banana"
print(s.find("na"))
print(s.index("ba"))</pre>

        <div class="mp-output">2<br>0</div>
    </div>

    <!-- count -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">count()</span>
            <span class="mp-tag">–°–∞–Ω–∞—É</span>
        </div>

        <pre class="mp-code">s = "banana"
print(s.count("a"))</pre>

        <div class="mp-output">3</div>
    </div>

    <!-- title/capitalize -->
    <div class="method-premium">
        <div class="mp-head">
            <span class="mp-name">title() / capitalize()</span>
            <span class="mp-tag">–°—Ç–∏–ª—å</span>
        </div>

        <pre class="mp-code">s = "python programming"
print(s.title())
print(s.capitalize())</pre>

        <div class="mp-output">Python Programming<br>Python programming</div>
    </div>
      </div>



 <div class="main-column">
            <!-- 2. –ú–´–°–ê–õ–î–ê–† -->
            <section id="examples" class="card section">
                <div class="section-header">
                    <div>
                        <h2>2-–±”©–ª—ñ–º ¬∑ –ú—ã—Å–∞–ª–¥–∞—Ä</h2>
                        <p class="section-subtitle">–¢–µ–æ—Ä–∏—è–Ω—ã –Ω–∞“õ—Ç—ã —Ç–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä–¥–∞ “õ–æ–ª–¥–∞–Ω—É.</p>
                    </div>
                    <button class="btn-pill btn-done" data-block="examples" data-xp="30">
                         ‚¨ú–û—Ä—ã–Ω–¥–∞–ª–¥—ã (–ú—ã—Å–∞–ª–¥–∞—Ä)
                    </button>
                </div>

                <article class="example-block">
                    <div class="example-badge">1-–º—ã—Å–∞–ª</div>
                    <div>
                        <h3>–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã“£ –∞—Ç—ã–Ω ¬´—Ç–∞–∑–∞–ª–∞—É¬ª</h3>
                        <p>–ê—Ä—Ç—ã“õ –±–æ—Å –æ—Ä—ã–Ω–¥–∞—Ä–¥—ã –∞–ª—ã–ø —Ç–∞—Å—Ç–∞–ø, –±—ñ—Ä—ñ–Ω—à—ñ ”ô—Ä—ñ–ø—Ç—ñ –±–∞—Å ”ô—Ä—ñ–ø–∫–µ –∞–π–Ω–∞–ª–¥—ã—Ä–∞–º—ã–∑.</p>
                        <pre><code class="language-python">
name = input("–ê—Ç—ã“£–¥—ã –µ–Ω–≥—ñ–∑: ")
clean_name = name.strip().capitalize()
print("–°”ô–ª–µ–º,", clean_name)
                        </code></pre>
                    </div>
                </article>

                <article class="example-block">
                    <div class="example-badge">2-–º—ã—Å–∞–ª</div>
                    <div>
                        <h3>–°”©–π–ª–µ–º–¥–µ–≥—ñ —Å”©–∑–¥–µ—Ä —Å–∞–Ω—ã–Ω —Ç–∞–±—É</h3>
                        <pre><code class="language-python">
text = input("–°”©–π–ª–µ–º –µ–Ω–≥—ñ–∑: ")
words = text.split()
print("–°”©–∑–¥–µ—Ä —Å–∞–Ω—ã:", len(words))
                        </code></pre>
                    </div>
                </article>

                <article class="example-block">
                    <div class="example-badge">3-–º—ã—Å–∞–ª</div>
                    <div>
                        <h3>"python" —Å”©–∑—ñ–Ω —Ä–µ–≥–∏—Å—Ç—Ä–≥–µ —Ç”ô—É–µ–ª—Å—ñ–∑ —Å–∞–Ω–∞—É</h3>
                        <pre><code class="language-python">
text = input("–ú”ô—Ç—ñ–Ω –µ–Ω–≥—ñ–∑: ")
lower_text = text.lower()
count = lower_text.count("python")
print("'python' —Å”©–∑—ñ", count, "—Ä–µ—Ç –∫–µ–∑–¥–µ—Å—Ç—ñ.")
                        </code></pre>
                    </div>
                </article>

                <div class="callout soft">

                </div>
            </section>
      </div>

 <div class="main-column">
            <!-- 3. –û–ô–´–ù–î–ê–† -->
            <section id="games" class="section">
                <div class="section-header">
                    <div>
                        <h2>3-–±”©–ª—ñ–º ¬∑ Gamified –æ–π—ã–Ω–¥–∞—Ä</h2>
                        <p class="section-subtitle">Easy ‚Üí Medium ‚Üí Hard. “ö–∞—Ç–µ —Ç–∞–±—É, –∫–≤–∏–∑, –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è.</p>
                    </div>
                    <button class="btn-pill btn-done" data-block="games" data-xp="40">
                         ‚¨ú –û—Ä—ã–Ω–¥–∞–ª–¥—ã (–û–π—ã–Ω–¥–∞—Ä)
                    </button>
                </div>

                <!-- –û–π—ã–Ω 1: “ö–∞—Ç–µ —Ç–∞–ø -->
                <article class="card game-card">
                    <div class="game-header">
                        <div class="game-icon game-easy"></div>
                        <div>
                            <h3>–û–π—ã–Ω 1 ¬∑ ¬´“ö–∞—Ç–µ —Ç–∞–ø¬ª</h3>
                            <p class="game-subtitle">–ö–æ–¥—Ç–∞ “õ–∞—Ç–µ –±–∞—Ä. –û“£–∞–π, o—Ä—Ç–∞—à–∞, –∫“Ø—Ä–¥–µ–ª—ñ –¥–µ“£–≥–µ–π–ª–µ—Ä.</p>
                        </div>
                    </div>

                    <!-- Easy -->
                    <details class="level-block" open>
                        <summary>–û“£–∞–π –¥–µ“£–≥–µ–π</summary>
                        <div class="bug-task">
                            <p><strong>–ú—ñ–Ω–¥–µ—Ç:</strong> –ñ–æ–ª–¥—ã –±–∞—Å ”ô—Ä—ñ–ø–∫–µ –∞–π–Ω–∞–ª–¥—ã—Ä—É.</p>
                            <pre><code class="language-python">
text = input("–ñ–æ–ª –µ–Ω–≥—ñ–∑: ")
result = text.upper
print(result)
                            </code></pre>
                            <p><em>“ö–∞—Ç–µ “õ–∞–π –∂–µ—Ä–¥–µ?</em></p>
                            <button type="button"
                                    class="btn-pill btn-outline sm show-answer"
                                    data-answer-id="bug-easy">
                                –ñ–∞—É–∞–±—ã–Ω –∫”©—Ä—Å–µ—Ç—É
                            </button>
                            <pre id="bug-easy" class="answer"><code class="language-python">
# upper - ”ô–¥—ñ—Å, –æ–Ω—ã —à–∞“õ—ã—Ä—É “Ø—à—ñ–Ω –∂–∞“õ—à–∞ –∫–µ—Ä–µ–∫
text = input("–ñ–æ–ª –µ–Ω–≥—ñ–∑: ")
result = text.upper()
print(result)
                            </code></pre>
                        </div>
                    </details>

                    <!-- Medium -->
                    <details class="level-block">
                        <summary>–û—Ä—Ç–∞—à–∞ –¥–µ“£–≥–µ–π</summary>
                        <div class="bug-task">
                            <p><strong>–ú—ñ–Ω–¥–µ—Ç:</strong> –°”©–π–ª–µ–º–Ω–µ–Ω —Å”©–∑–¥–µ—Ä —Ç—ñ–∑—ñ–º—ñ–Ω –∞–ª—É.</p>
                            <pre><code class="language-python">
sentence = "–ú–µ–Ω Python —Ç—ñ–ª—ñ–Ω “Ø–π—Ä–µ–Ω—ñ–ø –∂“Ø—Ä–º—ñ–Ω"
words = sentence.split("")
print(words)
                            </code></pre>
                            <p><em>“ö–∞—Ç–µ “õ–∞–π –∂–µ—Ä–¥–µ?</em></p>
                            <button type="button"
                                    class="btn-pill btn-outline sm show-answer"
                                    data-answer-id="bug-medium">
                                –ñ–∞—É–∞–±—ã–Ω –∫”©—Ä—Å–µ—Ç—É
                            </button>
                            <pre id="bug-medium" class="answer"><code class="language-python">
# split("") –µ–º–µ—Å, split() –Ω–µ–º–µ—Å–µ split(" ")
sentence = "–ú–µ–Ω Python —Ç—ñ–ª—ñ–Ω “Ø–π—Ä–µ–Ω—ñ–ø –∂“Ø—Ä–º—ñ–Ω"
words = sentence.split()
print(words)
                            </code></pre>
                        </div>
                    </details>

                    <!-- Hard -->
                    <details class="level-block">
                        <summary>–ö“Ø—Ä–¥–µ–ª—ñ –¥–µ“£–≥–µ–π</summary>
                        <div class="bug-task">
                            <p><strong>–ú—ñ–Ω–¥–µ—Ç:</strong> –ú”ô—Ç—ñ–Ω–¥–µ ¬´python¬ª —Å”©–∑—ñ–Ω —Å–∞–Ω–∞—É.</p>
                            <pre><code class="language-python">
text = input("–ñ–æ–ª: ")
count = text.count("Python")
print("python —Å–∞–Ω—ã:", count)
                            </code></pre>
                            <p><em>“ö–∞—Ç–µ “õ–∞–π –∂–µ—Ä–¥–µ? –†–µ–≥–∏—Å—Ç—Ä–≥–µ –Ω–∞–∑–∞—Ä –∞—É–¥–∞—Ä.</em></p>
                            <button type="button"
                                    class="btn-pill btn-outline sm show-answer"
                                    data-answer-id="bug-hard">
                                –ñ–∞—É–∞–±—ã–Ω –∫”©—Ä—Å–µ—Ç—É
                            </button>
                            <pre id="bug-hard" class="answer"><code class="language-python">
# "Python" –∂”ô–Ω–µ "python" ”ô—Ä —Ç“Ø—Ä–ª—ñ. –ë–∞—Ä–ª—ã“ì—ã–Ω –∫—ñ—à—ñ ”ô—Ä—ñ–ø–∫–µ –∞–π–Ω–∞–ª–¥—ã—Ä–∞–º—ã–∑.
text = input("–ñ–æ–ª: ")
lower_text = text.lower()
count = lower_text.count("python")
print("python —Å–∞–Ω—ã:", count)
                            </code></pre>
                        </div>
                    </details>
                </article>

                <!-- –û–π—ã–Ω 2: Quiz -->
                <article class="card game-card">
                    <div class="game-header">
                        <div class="game-icon game-medium"></div>
                        <div>
                            <h3>–û–π—ã–Ω 2 ¬∑ –î“±—Ä—ã—Å ”ô–¥—ñ—Å—Ç—ñ —Ç–∞“£–¥–∞</h3>
                            <p class="game-subtitle">–î–µ—Ä–µ—É —Ç–µ–∫—Å–µ—Ä—É: “õ–∞–Ω–¥–∞–π ”ô–¥—ñ—Å “õ–∞–π –∫–µ–∑–¥–µ “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?</p>
                        </div>
                    </div>

                    <div id="quiz-question" class="quiz-question"></div>
                    <div id="quiz-options" class="quiz-options"></div>
                    <div id="quiz-status" class="quiz-status"></div>
                    <div id="quiz-level" class="quiz-level"></div>
                    <button id="quiz-next" class="btn-pill btn-primary sm" disabled>–ö–µ–ª–µ—Å—ñ —Å“±—Ä–∞“õ</button>
                </article>

                <!-- –û–π—ã–Ω 3: –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è -->
                <article class="card game-card">
                    <div class="game-header">
                        <div class="game-icon game-hard"></div>
                        <div>
                            <h3>–û–π—ã–Ω 3 ¬∑ –ñ–æ–ª–¥—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è—Å—ã</h3>
                            <p class="game-subtitle">–ñ–æ–ª–¥—ã –µ–Ω–≥—ñ–∑ –¥–µ, –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä–¥—ã –±–∞—Å—ã–ø, –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω –±–∞“õ—ã–ª–∞.</p>
                        </div>
                    </div>

                    <label for="play-input" class="field-label">–ñ–æ–ª –µ–Ω–≥—ñ–∑:</label>
                    <input id="play-input" type="text" class="text-input"
                           placeholder="–ú—ã—Å–∞–ª—ã:  –ú–µ–Ω Python “Ø–π—Ä–µ–Ω—ñ–ø –∂“Ø—Ä–º—ñ–Ω  ">

                    <div class="btn-row">
                        <button type="button" class="btn-pill btn-outline sm" data-action="upper">upper()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="lower">lower()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="strip">strip()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="title">title()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="capitalize">capitalize()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="split">split()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="list">list()</button>
                        <button type="button" class="btn-pill btn-outline sm" data-action="replace">replace("Python","Java")</button>
                    </div>

                    <div id="play-output" class="game-output">
                        –ù”ô—Ç–∏–∂–µ –º“±–Ω–¥–∞ —à—ã“ì–∞–¥—ã‚Ä¶
                    </div>
                </article>
            </section>
        </div>
    </div>

    </div>
</main>

<footer class="footer">
    <div class="container">
        <span>¬© {{ year|default:"2025" }} Python ¬∑ –ñ–æ–ª–¥—ã“õ ”ô–¥—ñ—Å—Ç–µ—Ä</span>
    </div>
</footer>

<!-- BOOTSTRAP JS (bundle —Å Popper) -->
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous">
</script>

<!-- JS: –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è -->
<script>
    // XP –∂”ô–Ω–µ –ø—Ä–æ–≥—Ä–µ—Å—Å
    (function () {
        const totalXP = 100;
        let currentXP = 0;

        const xpEl = document.getElementById('xp-value');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const levelValue = document.getElementById('level-value');

        function recalcLevel() {
            const level = 1 + Math.floor(currentXP / 40);
            levelValue.textContent = level;
        }

        function updateUI() {
            if (!xpEl || !progressFill || !progressText) return;
            xpEl.textContent = currentXP;
            const pct = Math.max(0, Math.min(100, Math.round(currentXP * 100 / totalXP)));
            progressFill.style.width = pct + '%';
            progressText.textContent = pct + '% –∞—è“õ—Ç–∞–ª–¥—ã';
            recalcLevel();
        }

        document.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-done');
            if (!btn) return;
            if (btn.classList.contains('done')) return;

            const xp = parseInt(btn.dataset.xp || '0', 10);
            currentXP = Math.min(totalXP, currentXP + xp);
            btn.classList.add('done');
            btn.textContent = '‚úì –∞—è“õ—Ç–∞–ª–¥—ã';

            updateUI();
        });

        updateUI();
    })();

    // –û–π—ã–Ω 1: ¬´“ö–∞—Ç–µ —Ç–∞–ø¬ª
    document.addEventListener('click', function (e) {
        if (!e.target.classList.contains('show-answer')) return;
        const id = e.target.getAttribute('data-answer-id');
        const block = document.getElementById(id);
        if (!block) return;
        block.classList.toggle('visible');
    });

    // –û–π—ã–Ω 2: Quiz
    (function () {
        const questions = [
            {
                level: 'Easy',
                question: '–ñ–æ–ª–¥—ã“£ –±–∞—Ä–ª—ã“õ ”ô—Ä–ø—ñ–Ω –±–∞—Å ”ô—Ä—ñ–ø–∫–µ –∞–π–Ω–∞–ª–¥—ã—Ä–∞—Ç—ã–Ω ”ô–¥—ñ—Å?',
                options: ['lower()', 'upper()', 'strip()', 'title()'],
                correct: 1,
                explain: 'upper() ‚Äì –±–∞—Ä–ª—ã“õ —Å–∏–º–≤–æ–ª–¥—ã –ë–ê–° ”ò–†–Ü–ü–ö–ï –∞–π–Ω–∞–ª–¥—ã—Ä–∞–¥—ã.'
            },
            {
                level: 'Medium',
                question: '"  Salem  " –∂–æ–ª—ã–Ω–∞–Ω –∞—Ä—Ç—ã“õ –±–æ—Å –æ—Ä—ã–Ω–¥—ã –∞–ª—ã–ø —Ç–∞—Å—Ç–∞—É “Ø—à—ñ–Ω:',
                options: ['strip()', 'split()', 'replace()', 'count()'],
                correct: 0,
                explain: 'strip() ‚Äì –±–∞—Å—ã –º–µ–Ω —Å–æ“£—ã–Ω–¥–∞“ì—ã –±–æ—Å –æ—Ä—ã–Ω–¥—ã –∞–ª—ã–ø —Ç–∞—Å—Ç–∞–π–¥—ã.'
            },
            {
                level: 'Hard',
                question: '"a,b,c" –∂–æ–ª—ã–Ω “Ø—Ç—ñ—Ä –±–æ–π—ã–Ω—à–∞ –±”©–ª—É “Ø—à—ñ–Ω:',
                options: ['s.split()', 's.split(",")', 's.split(" ")', 's.split("")'],
                correct: 1,
                explain: '“Æ—Ç—ñ—Ä –±–æ–π—ã–Ω—à–∞ –±”©–ª—É “Ø—à—ñ–Ω split(",") “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑.'
            }
        ];

        let index = 0;
        let locked = false;

        const qEl = document.getElementById('quiz-question');
        const optEl = document.getElementById('quiz-options');
        const stEl = document.getElementById('quiz-status');
        const lvlEl = document.getElementById('quiz-level');
        const nextBtn = document.getElementById('quiz-next');

        if (!qEl || !optEl || !stEl || !lvlEl || !nextBtn) return;

        function renderQuestion() {
            locked = false;
            nextBtn.disabled = true;
            const q = questions[index];
            qEl.textContent = q.question;
            lvlEl.textContent = '–î–µ“£–≥–µ–π: ' + q.level;
            stEl.textContent = '';
            optEl.innerHTML = '';

            q.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.className = 'quiz-option';
                btn.textContent = opt;
                btn.addEventListener('click', () => handleAnswer(i));
                optEl.appendChild(btn);
            });
        }

        function handleAnswer(choice) {
            if (locked) return;
            locked = true;

            const q = questions[index];
            const buttons = optEl.querySelectorAll('.quiz-option');
            buttons.forEach((btn, i) => {
                btn.classList.remove('correct', 'wrong');
                if (i === q.correct) btn.classList.add('correct');
                if (i === choice && i !== q.correct) btn.classList.add('wrong');
            });

            if (choice === q.correct) {
                stEl.textContent = '–î“±—Ä—ã—Å! ' + q.explain;
            } else {
                stEl.textContent = '–î“±—Ä—ã—Å –µ–º–µ—Å. ' + q.explain;
            }
            nextBtn.disabled = false;
        }

        nextBtn.addEventListener('click', () => {
            index = (index + 1) % questions.length;
            renderQuestion();
        });

        renderQuestion();
    })();

    // –û–π—ã–Ω 3: –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è
    (function () {
        const input = document.getElementById('play-input');
        const output = document.getElementById('play-output');
        const card = document.querySelector('#games .game-card:last-of-type');

        if (!input || !output || !card) return;

        card.addEventListener('click', function (e) {
            const btn = e.target.closest('button[data-action]');
            if (!btn) return;

            const action = btn.dataset.action;
            let text = input.value;

            if (!text) {
                output.textContent = '–ê–ª–¥—ã–º–µ–Ω –∂–æ–ª –µ–Ω–≥—ñ–∑.';
                return;
            }

            let result = text;

            switch (action) {
                case 'upper':
                    result = text.toUpperCase();
                    break;
                case 'lower':
                    result = text.toLowerCase();
                    break;
                case 'strip':
                    result = text.trim();
                    break;
                case 'title':
                    result = text
                        .toLowerCase()
                        .split(' ')
                        .map(w => w ? w[0].toUpperCase() + w.slice(1) : '')
                        .join(' ');
                    break;
                case 'capitalize':
                    result = text.charAt(0).toUpperCase() + text.slice(1).toLowerCase();
                    break;
                case 'split':
                    result = JSON.stringify(text.split(' '));
                    break;
                case 'list':
                    result = JSON.stringify(Array.from(text));
                    break;
                case 'replace':
                    result = text.replace(/Python/g, 'Java');
                    break;
            }

            output.textContent = result;
        });
    })();
</script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>

<script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>

<script>
async function loadPy() {
    if (!window.pyodide) {
        window.pyodide = await loadPyodide({
            indexURL: "https://cdn.jsdelivr.net/pyodide/v0.23.4/full/"
        });
    }
    return window.pyodide;
}

async function runPython(code) {
    const py = await loadPy();
    return py.runPython(code);
}

document.addEventListener("click", async function(e) {
    const btn = e.target.closest(".btn-run");
    if (!btn) return;

    const code = btn.dataset.code;      // <-- pre —ñ—à—ñ–Ω–µ–Ω –µ–º–µ—Å, data-code-—Ç–µ–Ω –∞–ª–∞–º—ã–∑
    const outputBox = btn.nextElementSibling;

    try {
        const result = await runPython(code);
        outputBox.textContent = result ?? " ";
    } catch (err) {
        outputBox.textContent = "“ö–∞—Ç–µ: " + err;
    }
});
</script>

</body>
</html>
