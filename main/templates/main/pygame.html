{% extends "main/base.html" %}

{% block title %}PyGame кітапханасы{% endblock %}

{% block content %}

<h1>PyGame кітапханасы</h1>
<p class="subtitle">
  Бұл сабақта Python-да ойын жасауға арналған <b>PyGame</b> кітапханасымен
  танысамыз: терезе ашу, цикл құру, дұрыс жабу және қарапайым фигуралар
  салуды үйренеміз.
</p>

<p style="margin-top:8px;color:#4b5563;">
  Сабақтың барлық блоктарын орындасаң, шамамен <b>100 XP</b> жинайсың.
</p>

<!-- ========================================================= -->
<!-- 1. ОҚУ МАҚСАТЫ -->
<!-- ========================================================= -->
<section class="apple-section" id="goals">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">Оқу мақсаты</h2>
    <button class="btn-done" data-block="goals" data-xp="10">
      ⬜ Орындалды (Мақсат)
    </button>
  </div>

  <ul style="margin-top:10px;">
    <li>PyGame кітапханасының не үшін қолданылатынын түсіну;</li>
    <li><code>pip install pygame</code> арқылы модульді орната білу;</li>
    <li>Ойын терезесін құрып, оны дұрыс жабу циклін жазу;</li>
    <li><code>pygame.draw</code> модулімен негізгі фигураларды салуды білу;</li>
    <li>Mini-quiz арқылы білімін тексеру.</li>
  </ul>
</section>

<!-- ========================================================= -->
<!-- 2. ТЕОРИЯ: PYGAME НЕ ҮШІН ҚОЛДАНЫЛАДЫ -->
<!-- ========================================================= -->
<section class="apple-section" id="theory">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">1-бөлім · Теория</h2>
    <button class="btn-done" data-block="theory" data-xp="25">
      ⬜ Орындалды (Теория)
    </button>
  </div>

  <h3 style="margin-top:14px;">PyGame деген не?</h3>
  <p>
    <b>PyGame</b> — Python тілінде <b>2D ойындар</b> әзірлеуге арналған
    кітапхана (фреймворк). Ойындарды былайша сипаттауға болады:
    <b>объектілер + графика + физика + басқару</b>.
    Осылардың бәрін Python-да ыңғайлы басқару үшін PyGame қолданылады.
  </p>

  <p>PyGame мүмкіндіктері:</p>
  <ul>
    <li>графикалық фигураларды салу;</li>
    <li>растрлық суреттерді көрсету (спрайттар);</li>
    <li>объектілерді қозғалту (анимация);</li>
    <li>пернетақта және тінтуірмен байланыс жасау;</li>
    <li>дыбыс пен музыка ойнату.</li>
  </ul>

  <h3>PyGame модулін орнату</h3>
  <p>Windows жүйесінде орнату қадамдары:</p>
  <ol>
    <li><b>Win + R</b> пернелерін бас;</li>
    <li>Ашылған «Орындау» терезесіне <code>cmd</code> деп жазып, Enter бас;</li>
    <li>Командалық жолда мына команданы орында:</li>
  </ol>

  <pre><code class="language-bash">pip install pygame</code></pre>

  <p>
    Орнату аяқталғаннан кейін Python файлында <code>import pygame</code>
    деп модульді қосуға болады.
  </p>

  <h3>Ойын терезесін жасау</h3>
  <p>Ең қарапайым PyGame терезесі келесі қадамдардан тұрады:</p>
  <ul>
    <li>модульді қосу;</li>
    <li>инициализация (<code>pygame.init()</code>);</li>
    <li>терезе өлшемін орнату;</li>
    <li>негізгі цикл (ойын цикл «game loop»);</li>
    <li>дұрыс шығу (<code>pygame.quit()</code>).</li>
  </ul>

  <pre><code class="language-python">import pygame  # 1) модульді қосу

pygame.init()  # 2) pygame жүйесін дайындау

size = width, height = 640, 480        # 3) терезе өлшемі
screen = pygame.display.set_mode(size) # 4) терезені жасау

pygame.display.set_caption("Менің бірінші ойыным")</code></pre>

  <h3>Ойыннан дұрыс шығу (оқиға циклі)</h3>
  <p>
    Терезені «крестикпен» жапқанда программа да аяқталуы керек.
    Ол үшін <b>оқиғалар циклін</b> (event loop) қолданамыз:
  </p>

  <pre><code class="language-python">import pygame

pygame.init()
size = width, height = 400, 300
screen = pygame.display.set_mode(size)

running = True
while running:
    # Барлық оқиғаларды қарау
    for event in pygame.event.get():
        if event.type == pygame.QUIT:   # терезе жабылса
            running = False

# Жұмысты аяқтау
pygame.quit()</code></pre>

  <p>
    Кейбір оқулықтарда қысқаша форма қолданылады:
  </p>

  <pre><code class="language-python">while pygame.event.wait().type != pygame.QUIT:
    pass   # ештеңе істемейміз, тек күтеміз

pygame.quit()</code></pre>

  <h3>Кадрларды жаңарту: <code>pygame.display.flip()</code></h3>
  <p>
    PyGame <b>қосарлы буферлеуді</b> қолданады: біз бір кадрды салған кезде
    келесі кадр жадта дайындалады. Жаңартылған кадрды көрсету үшін:
  </p>

  <pre><code class="language-python"># ... объектілерді, фигураларды салу коды ...

pygame.display.flip()  # экранды жаңарту</code></pre>

  <p>
    Осылайша пайдаланушы тек дайын кадрларды көреді, ал суретті салу процесі
    жыпылықтамай, тегіс көрінеді.
  </p>

  <h3>Draw модулі: фигуралар салу</h3>
  <p>
    <code>pygame.draw</code> модулі — графикалық примитивтер салуға арналған.
    Мысалы, тіктөртбұрыш, шеңбер, сызық, эллипс, көпбұрыш.
  </p>

  <h4>Тіктөртбұрыш салу</h4>
  <pre><code class="language-python">pygame.draw.rect(screen, color, (x0, y0, width, height), border)</code></pre>

  <ul>
    <li><code>screen</code> — сурет салатын бет (терезе);</li>
    <li><code>color</code> — түс (мысалы, <code>(255, 0, 0)</code> — қызыл);</li>
    <li><code>(x0, y0, width, height)</code> — сол жақ жоғарғы бұрыштың координатасы, ені, биіктігі;</li>
    <li><code>border</code> — жиек қалыңдығы, егер <code>0</code> болса — ішіне дейін боялады.</li>
  </ul>

  <h4>Шеңбер салу</h4>
  <pre><code class="language-python">pygame.draw.circle(screen, color, (x, y), R, width)</code></pre>

  <ul>
    <li><code>(x, y)</code> — шеңбер центрінің координаталары;</li>
    <li><code>R</code> — радиус;</li>
    <li><code>width</code> — сызық қалыңдығы, <code>0</code> болса — толық боялған шеңбер.</li>
  </ul>

  <h4>Нүкте (пиксель) салу</h4>
  <p>
    PyGame-де жеке пиксельге арналған бөлек команда жоқ, бірақ оны
    <code>fill()</code> әдісімен сала аламыз:
  </p>

  <pre><code class="language-python"># Бір пиксель салу мысалы:
surface.fill(color, (x, y, 1, 1))</code></pre>

  <h4>Басқа фигуралар</h4>
  <pre><code class="language-python">pygame.draw.line(surface, color, start_pos, end_pos, width)
pygame.draw.ellipse(surface, color, rect, width)
pygame.draw.polygon(surface, color, pointlist, width)</code></pre>

</section>

<!-- ========================================================= -->
<!-- 3. МЫСАЛДАР -->
<!-- ========================================================= -->
<section class="apple-section" id="examples">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">2-бөлім · Мысалдар</h2>
    <button class="btn-done" data-block="examples" data-xp="20">
      ⬜ Орындалды (Мысалдар)
    </button>
  </div>

  <h3 style="margin-top:14px;">1-мысал · Бос терезе</h3>
  <pre><code class="language-python">import pygame

pygame.init()
screen = pygame.display.set_mode((640, 480))
pygame.display.set_caption("Бос PyGame терезесі")

running = True
while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

pygame.quit()</code></pre>

  <h3 style="margin-top:18px;">2-мысал · Түсті фон</h3>
  <pre><code class="language-python">import pygame

pygame.init()
screen = pygame.display.set_mode((640, 480))
pygame.display.set_caption("Түсті фон")

running = True
while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    # фон түсі (R, G, B)
    screen.fill((30, 144, 255))   # көкшіл түс
    pygame.display.flip()

pygame.quit()</code></pre>

  <h3 style="margin-top:18px;">3-мысал · Тіктөртбұрыш пен шеңбер</h3>
  <pre><code class="language-python">import pygame

pygame.init()
screen = pygame.display.set_mode((640, 480))
pygame.display.set_caption("Фигуралар")

running = True
while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    screen.fill((245, 245, 245))  # ашық фон

    # қызыл тіктөртбұрыш
    pygame.draw.rect(screen, (255, 99, 71), (50, 50, 200, 120), 0)

    # жасыл жиекті шеңбер
    pygame.draw.circle(screen, (34, 197, 94), (400, 200), 60, 5)

    pygame.display.flip()

pygame.quit()</code></pre>
</section>

<!-- ========================================================= -->
<!-- 4. ПРАКТИКА -->
<!-- ========================================================= -->
<section class="apple-section" id="practice">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">3-бөлім · Практика</h2>
    <button class="btn-done" data-block="practice" data-xp="20">
      ⬜ Орындалды (Практика)
    </button>
  </div>

  <h3 style="margin-top:14px;">Тапсырма 1 · Түсті өзгерту</h3>
  <p>
    2-мысалда берілген фон түсін өзіңнің сүйікті түсіңе ауыстыр. RGB
    мәндерін тәжірибе жасап таңда.
  </p>

  <h3>Тапсырма 2 · Фигуралар галереясы</h3>
  <p>
    Терезеде кемінде үш түрлі фигура сал:
    тіктөртбұрыш, шеңбер және сызық. Олардың түсін, орнын
    өзің таңда.
  </p>

  <h3>Тапсырма 3 · Қарапайым «логотип»</h3>
  <p>
    PyGame арқылы өз «логотипіңді» құрастыр:
    бірнеше шеңбер мен тіктөртбұрышты біріістіріп, ерекше сурет жаса.
  </p>
</section>

<!-- ========================================================= -->
<!-- 5. MINI-QUIZ (10 СҰРАҚ) -->
<!-- ========================================================= -->
<section class="apple-section" id="quiz">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">4-бөлім · Mini-Quiz</h2>
    <button class="btn-done" data-block="quiz" data-xp="15">
      ⬜ Орындалды (Quiz)
    </button>
  </div>

  <p style="margin-top:10px;">
    Төмендегі тест сұрақтарына жауап бер. Соңында
    <b>«Тексеру»</b> батырмасын бас.
  </p>

  <div class="quiz-wrapper">

    <!-- 1 -->
    <div class="quiz-item" data-correct="b">
      <p><b>1) PyGame кітапханасы негізінен не үшін қолданылады?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q1" value="a">
        а) Мәтіндік құжаттармен жұмыс істеу үшін
      </label>
      <label class="quiz-option">
        <input type="radio" name="q1" value="b">
        ә) 2D ойындар мен графикалық қосымшалар жасау үшін
      </label>
      <label class="quiz-option">
        <input type="radio" name="q1" value="c">
        б) Тек деректер қорымен жұмыс істеу үшін
      </label>
      <label class="quiz-option">
        <input type="radio" name="q1" value="d">
        в) Браузерде сайт ашу үшін
      </label>
    </div>

    <!-- 2 -->
    <div class="quiz-item" data-correct="c">
      <p><b>2) PyGame модулін орнату үшін қай команда дұрыс?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q2" value="a">
        а) <code>install pygame</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q2" value="b">
        ә) <code>python pygame</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q2" value="c">
        б) <code>pip install pygame</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q2" value="d">
        в) <code>run pygame</code>
      </label>
    </div>

    <!-- 3 -->
    <div class="quiz-item" data-correct="a">
      <p><b>3) <code>pygame.init()</code> не істейді?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q3" value="a">
        а) PyGame жүйесін қолдануға дайындайды (инициализация)
      </label>
      <label class="quiz-option">
        <input type="radio" name="q3" value="b">
        ә) Терезені жабады
      </label>
      <label class="quiz-option">
        <input type="radio" name="q3" value="c">
        б) Терезенің өлшемін қояды
      </label>
      <label class="quiz-option">
        <input type="radio" name="q3" value="d">
        в) Ойын логикасын есептейді
      </label>
    </div>

    <!-- 4 -->
    <div class="quiz-item" data-correct="d">
      <p><b>4) Терезе жасаудың дұрыс жолы қайсы?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q4" value="a">
        а) <code>screen = pygame.window(640, 480)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q4" value="b">
        ә) <code>pygame.open(640, 480)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q4" value="c">
        б) <code>screen = pygame.display.window((640, 480))</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q4" value="d">
        в) <code>screen = pygame.display.set_mode((640, 480))</code>
      </label>
    </div>

    <!-- 5 -->
    <div class="quiz-item" data-correct="b">
      <p><b>5) Ойыннан дұрыс шығу үшін қандай оқиғаны тексереміз?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q5" value="a">
        а) <code>pygame.CLOSE</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q5" value="b">
        ә) <code>pygame.QUIT</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q5" value="c">
        б) <code>pygame.EXIT</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q5" value="d">
        в) <code>pygame.STOP</code>
      </label>
    </div>

    <!-- 6 -->
    <div class="quiz-item" data-correct="c">
      <p><b>6) <code>pygame.display.flip()</code> қандай қызмет атқарады?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q6" value="a">
        а) Ойынды паузаға қояды
      </label>
      <label class="quiz-option">
        <input type="radio" name="q6" value="b">
        ә) Все оқиғаларды өшіреді
      </label>
      <label class="quiz-option">
        <input type="radio" name="q6" value="c">
        б) Экранға жаңа кадрды шығарады (экранды жаңарту)
      </label>
      <label class="quiz-option">
        <input type="radio" name="q6" value="d">
        в) Терезенің тақырыбын өзгертеді
      </label>
    </div>

    <!-- 7 -->
    <div class="quiz-item" data-correct="a">
      <p><b>7) Тіктөртбұрыш салудың дұрыс сигнатурасы:</b></p>
      <label class="quiz-option">
        <input type="radio" name="q7" value="a">
        а) <code>pygame.draw.rect(screen, color, (x, y, w, h), width)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q7" value="b">
        ә) <code>pygame.rect(screen, color, x, y, w, h)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q7" value="c">
        б) <code>pygame.draw.square(color, screen)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q7" value="d">
        в) <code>pygame.draw.box(screen, (x, y, w, h))</code>
      </label>
    </div>

    <!-- 8 -->
    <div class="quiz-item" data-correct="d">
      <p><b>8) Шеңбер радиусы қай параметрмен беріледі?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q8" value="a">
        а) <code>x</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q8" value="b">
        ә) <code>y</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q8" value="c">
        б) <code>width</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q8" value="d">
        в) <code>R</code>
      </label>
    </div>

    <!-- 9 -->
    <div class="quiz-item" data-correct="c">
      <p><b>9) PyGame-де жеке пиксельді қалай салуға болады?</b></p>
      <label class="quiz-option">
        <input type="radio" name="q9" value="a">
        а) <code>pygame.draw.pixel(screen, color, x, y)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q9" value="b">
        ә) <code>screen.point(x, y)</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q9" value="c">
        б) <code>screen.fill(color, (x, y, 1, 1))</code>
      </label>
      <label class="quiz-option">
        <input type="radio" name="q9" value="d">
        в) <code>pygame.pixel(color)</code>
      </label>
    </div>

    <!-- 10 -->
    <div class="quiz-item" data-correct="a">
      <p><b>10) PyGame ойын циклінің міндеті:</b></p>
      <label class="quiz-option">
        <input type="radio" name="q10" value="a">
        а) Оқиғаларды өңдеп, кадрларды үнемі жаңартып тұру
      </label>
      <label class="quiz-option">
        <input type="radio" name="q10" value="b">
        ә) Программаны бір рет қана орындау
      </label>
      <label class="quiz-option">
        <input type="radio" name="q10" value="c">
        б) Python-ды орнату
      </label>
      <label class="quiz-option">
        <input type="radio" name="q10" value="d">
        в) Файылды ашып, қайта жабу
      </label>
    </div>

  </div>

  <button type="button" id="checkQuiz" class="quiz-check-btn">
    Тексеру
  </button>
  <div id="quizResult" class="quiz-result"></div>
</section>

<!-- ========================================================= -->
<!-- 6. ҚОРЫТЫНДЫ / ҮЙ ТАПСЫРМАСЫ -->
<!-- ========================================================= -->
<section class="apple-section" id="homework">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">5-бөлім · Қорытынды және үй жұмысы</h2>
    <button class="btn-done" data-block="homework" data-xp="10">
      ⬜ Орындалды (Үй жұмысы)
    </button>
  </div>

  <h3 style="margin-top:14px;">Қысқаша қайталау</h3>
  <ul>
    <li>PyGame — Python-да 2D ойын жасауға арналған кітапхана;</li>
    <li><code>pip install pygame</code> арқылы орнатылады;</li>
    <li><code>pygame.init()</code>, <code>set_mode()</code>, ойын циклі және
        <code>pygame.quit()</code> — кез келген ойынның негізі;</li>
    <li><code>pygame.draw</code> арқылы тіктөртбұрыш, шеңбер, сызық және т.б.
        фигуралар сызуға болады.</li>
  </ul>

  <h3>Үй тапсырмасы</h3>
  <ul>
    <li>Компьютерге PyGame орнатып, бос терезе ашатын программа жаз;</li>
    <li>Фон түсін өзгертіп, терезеге кемінде екі фигура сал;</li>
    <li>Өз ойыныңның идеясын ойлап тап (3–4 сөйлеммен дәптерге жаз);</li>
    <li>Қосымша: PyGame ресми құжатын қарап шық:
      <a href="https://www.pygame.org/docs/ref/draw.html" target="_blank">
        pygame.draw құжаттамасы
      </a>.
    </li>
  </ul>
</section>

{% endblock %}
