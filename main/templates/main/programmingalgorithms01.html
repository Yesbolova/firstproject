{% extends "main/base.html" %}

{% block title %}Тармақталған алгоритмдер{% endblock %}

{% block content %}

<h1>Тармақталған алгоритмдер</h1>
<p class="subtitle">
  Бұл сабақта <b>if, elif, else</b> тармақталу операторларын, салыстыру белгілерін,
  логикалық тексерулерді және оларды Python тілінде жазу тәсілдерін үйренеміз.
</p>

<p style="margin-top:8px;color:#4b5563;">
  Сабақ соңында сен тармақталған алгоритм құрып, әртүрлі шарттар бойынша
  шешім қабылдай алатын боласың.
</p>

<!-- ========================================================= -->
<!-- 1. ОҚУ МАҚСАТЫ -->
<!-- ========================================================= -->
<section class="apple-section" id="goals">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">Оқу мақсаты</h2>
    <button class="btn-done" data-block="goals" data-xp="10">
      ⬜ Орындалды (Мақсат)
    </button>
  </div>

  <ul style="margin-top:12px;">
    <li><b>Тармақталған алгоритм</b> ұғымын түсіну;</li>
    <li><b>if, elif, else</b> операторларының синтаксисін білу;</li>
    <li>Салыстыру (<code>&gt;</code>, <code>&lt;</code>, <code>==</code>, <code>&gt;=</code>, т.б.) және логикалық (<code>and</code>, <code>or</code>, <code>not</code>) операторларды қолдану;</li>
    <li>Шартқа байланысты әртүрлі нәтиже беретін программалар құрастыру;</li>
    <li>Mini-quiz арқылы білімді тексеру.</li>
  </ul>
</section>

<!-- ========================================================= -->
<!-- 2. ТЕОРИЯ -->
<!-- ========================================================= -->
<section class="apple-section" id="theory">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">1-бөлім · Теория</h2>
    <button class="btn-done" data-block="theory" data-xp="25">
      ⬜ Орындалды (Теория)
    </button>
  </div>

  <h3 style="margin-top:16px;">Тармақталған алгоритм деген не?</h3>
  <p>
    <b>Тармақталған алгоритм</b> — белгілі бір <b>шартқа</b> байланысты
    әртүрлі әрекеттер орындалатын алгоритм. Егер шарт <b>true (ақиқат)</b>
    болса – бір тармақ, ал <b>false (жалған)</b> болса – басқа тармақ орындалады.
  </p>

  <h3>Python-дағы негізгі салыстыру операторлары</h3>
  <ul>
    <li><code>&gt;</code> – үлкен;</li>
    <li><code>&lt;</code> – кіші;</li>
    <li><code>&gt;=</code> – үлкен немесе тең;</li>
    <li><code>&lt;=</code> – кіші немесе тең;</li>
    <li><code>==</code> – тең (екі мәнді салыстыру);</li>
    <li><code>!=</code> – тең емес.</li>
  </ul>

  <h3>Негізгі синтаксис: if</h3>
  <pre><code class="language-python">if шарт:
    # шарт ақиқат болса орындалатын блок
    команда_1
    команда_2</code></pre>

  <h3>if ... else синтаксисі</h3>
  <pre><code class="language-python">if шарт:
    # шарт true болса
    команда_1
else:
    # шарт false болса
    команда_2</code></pre>

  <h3>Көп тармақты құрылым: if ... elif ... else</h3>
  <pre><code class="language-python">if шарт_1:
    # 1-шарт орындалса
    блок_1
elif шарт_2:
    # 2-шарт орындалса
    блок_2
else:
    # ешбір шарт орындалмаса
    блок_3</code></pre>

  <p style="margin-top:10px;">
    <b>Маңызды:</b> Python-да шегініс (<b>indentation</b>) өте маңызды.
    <code>if</code> ішіндегі барлық командалар бірдей шегініспен жазылуы тиіс.
  </p>
</section>

<!-- ========================================================= -->
<!-- 3. МЫСАЛДАР -->
<!-- ========================================================= -->
<section class="apple-section" id="examples">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">2-бөлім · Мысалдар</h2>
    <button class="btn-done" data-block="examples" data-xp="25">
      ⬜ Орындалды (Мысалдар)
    </button>
  </div>

  <!-- 1-мысал -->
  <h3 style="margin-top:14px;">1-мысал · Санның таңбасын анықтау</h3>
  <p>Пайдаланушы енгізген санның оң, теріс немесе нөл екенін анықтаймыз.</p>

  <pre><code class="language-python">x = float(input("Сан енгіз: "))

if x &gt; 0:
    print("Сан оң")
elif x &lt; 0:
    print("Сан теріс")
else:
    print("Сан нөлге тең")</code></pre>

  <p><b>Бағдарлама нәтижесінің үлгісі:</b></p>
  <pre><code class="language-python">Сан енгіз: -3
Сан теріс</code></pre>

  <!-- 2-мысал -->
  <h3 style="margin-top:22px;">2-мысал · Жас бойынша шешім қабылдау</h3>
  <p>Егер жас 18-ден үлкен немесе тең болса – "ересек", әйтпесе – "әлі кішкентай".</p>

  <pre><code class="language-python">age = int(input("Жасыңды енгіз: "))

if age &gt;= 18:
    print("Сен ересексің")
else:
    print("Сен әлі кішкентайсың")</code></pre>

  <p><b>Бағдарлама нәтижесінің үлгісі:</b></p>
  <pre><code class="language-python">Жасыңды енгіз: 16
Сен әлі кішкентайсың</code></pre>

  <!-- 3-мысал -->
  <h3 style="margin-top:22px;">3-мысал · Екі санның үлкенін табу</h3>
  <p>Пайдаланушы енгізген екі санның үлкенін экранға шығарамыз.</p>

  <pre><code class="language-python">a = float(input("a санын енгіз: "))
b = float(input("b санын енгіз: "))

if a &gt; b:
    print("Үлкен сан:", a)
elif b &gt; a:
    print("Үлкен сан:", b)
else:
    print("Екі сан тең")</code></pre>

  <p><b>Бағдарлама нәтижесінің үлгісі:</b></p>
  <pre><code class="language-python">a санын енгіз: 5
b санын енгіз: 9
Үлкен сан: 9</code></pre>

  <!-- 4-мысал -->
  <h3 style="margin-top:22px;">4-мысал · Баға қою (бағалау)</h3>
  <p>Оқушының баллына байланысты баға қоямыз.</p>

  <pre><code class="language-python">score = int(input("Баллды енгіз (0-100): "))

if score &gt;= 90:
    print("Баға: 5")
elif score &gt;= 75:
    print("Баға: 4")
elif score &gt;= 50:
    print("Баға: 3")
else:
    print("Баға: 2")</code></pre>

  <p><b>Бағдарлама нәтижесінің үлгісі:</b></p>
  <pre><code class="language-python">Баллды енгіз (0-100): 82
Баға: 4</code></pre>
</section>

<!-- ========================================================= -->
<!-- 4. ПРАКТИКА -->
<!-- ========================================================= -->
<section class="apple-section" id="practice">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">3-бөлім · Практика</h2>
    <button class="btn-done" data-block="practice" data-xp="20">
      ⬜ Орындалды (Практика)
    </button>
  </div>

  <!-- Тапсырма 1 -->
  <div class="task-card">
    <h3 style="margin-top:14px;">Тапсырма 1 · Жұп немесе тақ?</h3>
    <p>
      Пайдаланушы енгізген бүтін санның <b>жұп</b> немесе <b>тақ</b> екенін анықтайтын
      программа жаз.
    </p>

    <div class="task-io">
      <p class="task-io-title">Кіріс–шығыс деректерінің үлгісі:</p>

      <table class="io-table">
        <thead>
          <tr>
            <th>Кіріс (input)</th>
            <th>Шарт</th>
            <th>Шығыс (output)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>7</code></td>
            <td><code>7 % 2 != 0</code></td>
            <td><code>"Тақ сан"</code></td>
          </tr>
          <tr>
            <td><code>12</code></td>
            <td><code>12 % 2 == 0</code></td>
            <td><code>"Жұп сан"</code></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Тапсырма 2 -->
  <div class="task-card">
    <h3 style="margin-top:18px;">Тапсырма 2 · Температура бойынша кеңес</h3>
    <p>
      Температура мәні бойынша хабарлама шығаратын программа құрастыр:
    </p>
    <ul>
      <li>Егер <code>t &lt; 0</code> болса – <code>"Суық, жылы киін!"</code>;</li>
      <li>Егер <code>0 ≤ t &lt; 20</code> болса – <code>"Салқын, жеңіл күртеше кисең болады."</code>;</li>
      <li>Егер <code>t ≥ 20</code> болса – <code>"Жылы ауа райы, жеңіл киін."</code>.</li>
    </ul>

    <div class="task-io">
      <p class="task-io-title">Мысалдар кестесі:</p>

      <table class="io-table">
        <thead>
          <tr>
            <th>Кіріс (t)</th>
            <th>Шарт</th>
            <th>Шығыс (хабарлама)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>-5</code></td>
            <td><code>t &lt; 0</code></td>
            <td><code>"Суық, жылы киін!"</code></td>
          </tr>
          <tr>
            <td><code>12</code></td>
            <td><code>0 &lt;= t &lt; 20</code></td>
            <td><code>"Салқын, жеңіл күртеше кисең болады."</code></td>
          </tr>
          <tr>
            <td><code>25</code></td>
            <td><code>t &gt;= 20</code></td>
            <td><code>"Жылы ауа райы, жеңіл киін."</code></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Тапсырма 3 -->
  <div class="task-card">
    <h3 style="margin-top:18px;">Тапсырма 3 · Қарапайым калькулятор (екі амал)</h3>
    <p>
      Пайдаланушыдан екі сан және амал таңбасын (<code>+</code>, <code>-</code>)
      сұрайтын бағдарлама жаз. Амал таңбасына байланысты қосу немесе азайту
      операциясын орында.
    </p>

    <div class="task-io">
      <p class="task-io-title">Калькулятор жұмысының үлгілері:</p>

      <table class="io-table">
        <thead>
          <tr>
            <th>Кіріс</th>
            <th>Орындалатын амал</th>
            <th>Шығыс (нәтиже)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>a = 7, b = 3, op = "+"</code></td>
            <td><code>7 + 3</code></td>
            <td><code>10</code></td>
          </tr>
          <tr>
            <td><code>a = 7, b = 3, op = "-"</code></td>
            <td><code>7 - 3</code></td>
            <td><code>4</code></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- ========================================================= -->
<!-- 5. MINI-QUIZ (ОНЛАЙН ТЕСТ) -->
<!-- ========================================================= -->
<section class="apple-section" id="quiz">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">4-бөлім · Mini-Quiz (тармақталған алгоритм)</h2>
    <button class="btn-done" data-block="quiz" data-xp="20">
      ⬜ Орындалды (Quiz)
    </button>
  </div>

  <p style="margin-top:10px;">
    Төмендегі 6 сұраққа жауап бер. Соңында <b>«Тексеру»</b> батырмасын бас.
  </p>

  <div class="quiz-wrapper">

    <!-- 1-сұрақ -->
    <div class="quiz-item" data-correct="b">
      <p><b>1) Тармақталған алгоритм деген не?</b></p>

      <label class="quiz-option">
        <input type="radio" name="q1" value="a">
        а) Барлық қадамдары тек қайталанудан тұратын алгоритм
      </label>

      <label class="quiz-option">
        <input type="radio" name="q1" value="b">
        ә) Шартқа байланысты әртүрлі тармақтармен орындалатын алгоритм
      </label>

      <label class="quiz-option">
        <input type="radio" name="q1" value="c">
        б) Тек бір ғана командадан тұратын алгоритм
      </label>
    </div>

    <!-- 2-сұрақ -->
    <div class="quiz-item" data-correct="c">
      <p><b>2) Python-дағы тармақталу операторы қалай жазылады?</b></p>

      <label class="quiz-option">
        <input type="radio" name="q2" value="a">
        а) <code>if шарт then</code>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q2" value="b">
        ә) <code>if (шарт) { ... }</code>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q2" value="c">
        б) <code>if шарт:</code>
      </label>
    </div>

    <!-- 3-сұрақ -->
    <div class="quiz-item" data-correct="a">
      <p><b>3) Қай салыстыру операторы "тең" дегенді білдіреді?</b></p>

      <label class="quiz-option">
        <input type="radio" name="q3" value="a">
        а) <code>==</code>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q3" value="b">
        ә) <code>=</code>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q3" value="c">
        б) <code>!=</code>
      </label>
    </div>

    <!-- 4-сұрақ -->
    <div class="quiz-item" data-correct="b">
      <p><b>4) Қандай программа сызықтық емес, тармақталған алгоритм?</b></p>

      <label class="quiz-option">
        <input type="radio" name="q4" value="a">
        а)
        <pre><code class="language-python">x = int(input())
y = int(input())
s = x + y
print(s)</code></pre>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q4" value="b">
        ә)
        <pre><code class="language-python">x = int(input())
if x &gt; 0:
    print("оң")</code></pre>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q4" value="c">
        б)
        <pre><code class="language-python">i = 1
while i &lt;= 3:
    print(i)
    i += 1</code></pre>
      </label>
    </div>

    <!-- 5-сұрақ -->
    <div class="quiz-item" data-correct="a">
      <p><b>5) Төмендегі код үшін x = 10 болса не шығады?</b></p>

      <pre><code class="language-python">x = 10
if x &gt;= 10:
    print("A")
else:
    print("B")</code></pre>

      <label class="quiz-option">
        <input type="radio" name="q5" value="a">
        а) <code>A</code>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q5" value="b">
        ә) <code>B</code>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q5" value="c">
        б) Ештеңе шықпайды
      </label>
    </div>

    <!-- 6-сұрақ -->
    <div class="quiz-item" data-correct="c">
      <p><b>6) Қай жазылым дұрыс?</b></p>

      <label class="quiz-option">
        <input type="radio" name="q6" value="a">
        а)
        <pre><code class="language-python">if x &gt; 0
print("оң")</code></pre>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q6" value="b">
        ә)
        <pre><code class="language-python">if x &gt; 0:
print("оң")</code></pre>
      </label>

      <label class="quiz-option">
        <input type="radio" name="q6" value="c">
        б)
        <pre><code class="language-python">if x &gt; 0:
    print("оң")</code></pre>
      </label>
    </div>

  </div>

  <button type="button" id="checkQuiz" class="quiz-check-btn">
      Жауаптарды тексеру
    </button>
    <p id="quizResult" class="quiz-result"></p>

</section>

<!-- ========================================================= -->
<!-- 6. ҚОРЫТЫНДЫ / ҮЙ ТАПСЫРМАСЫ -->
<!-- ========================================================= -->
<section class="apple-section" id="homework">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;">
    <h2 style="margin:0;">5-бөлім · Сабақты аяқтау және үй тапсырмасы</h2>
    <button class="btn-done" data-block="homework" data-xp="20">
      ⬜ Орындалды (Үй жұмысы)
    </button>
  </div>

  <h3 style="margin-top:14px;">Сабақты аяқтаудың чек-листі</h3>
  <ul>
    <li><b>if, elif, else</b> синтаксисін түсінемін;</li>
    <li>Салыстыру және логикалық операторларды қолдана аламын;</li>
    <li>Тармақталған алгоритм құрып, Python тілінде жаза аламын;</li>
    <li>Mini-quiz сұрақтарына жауап бердім.</li>
  </ul>

  <h3>Үй тапсырмасы</h3>
  <ul style="margin-top:8px;">
    <li>Жоғарыдағы практика тапсырмаларын толық аяқта;</li>
    <li><b>Өз өміріңнен</b> бір жағдай ойлап тап (мысалы, "үй тапсырмасын орындадым/орындамадым",
        "баға", "күнделікті режим") және соны тармақталған алгоритм түрінде жаз;</li>
    <li>Программаны сақтап, келесі сабақта көрсет.</li>
  </ul>
</section>

<!-- QUIZ SCRIPT -->
<script>
(function(){
  const btn = document.getElementById("checkQuiz");
  const resultEl = document.getElementById("quizResult");
  if(!btn || !resultEl) return;

  btn.addEventListener("click", function(){
    const items = document.querySelectorAll(".quiz-item");
    let correct = 0;
    let total = items.length;

    items.forEach((item) => {
      const right = item.getAttribute("data-correct");
      const name = item.querySelector("input[type='radio']").name;
      const checked = item.querySelector("input[type='radio']:checked");

      item.style.borderLeft = "4px solid transparent";

      if(checked && checked.value === right){
        correct++;
        item.style.borderLeft = "4px solid #16a34a";
      } else if (checked) {
        item.style.borderLeft = "4px solid #dc2626";
      }
    });

    resultEl.textContent = `Дұрыс жауаптар: ${correct} / ${total}`;
  });
})();
</script>

{% endblock %}
